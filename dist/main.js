(()=>{"use strict";var e={45:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(r(30)),n=r(230);t.default=class{userDB;constructor(){this.userDB=new s.default}implementMessage(e){const{type:t}=e;t===n.COMMANDS.reg?console.log("reg",this.userDB):console.log("default")}}},30:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{users;constructor(){console.log(" New user DB"),this.users=[]}addUser(e){console.log(e),this.users.push(e)}}},993:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.httpServer=void 0;const s=o(r(147)),n=r(685),a=o(r(17));t.httpServer=(0,n.createServer)(((e,t)=>{const r=a.default.resolve(a.default.dirname(""))+("/"===e.url?"/front/index.html":`/front${e.url}`);s.default.readFile(r,((e,r)=>{if(e)return t.writeHead(404),void t.end(JSON.stringify(e));t.writeHead(200),t.end(r)}))})),t.default=t.httpServer},230:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.COMMANDS=void 0,function(e){e.reg="reg",e.create_game="create_game",e.start_game="start_game",e.turn="turn",e.attack="attack",e.finish="attack",e.update_room="update_room",e.update_winners="update_winners"}(r||(t.COMMANDS=r={}))},755:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{const{data:t,...r}=JSON.parse(e.toString());return console.log("dataMessage",t),{data:t||JSON.parse(t),...r}}},691:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(352),n=o(r(45)),a=o(r(755));new s.WebSocketServer({port:3e3}).on("connection",(e=>{const t=new n.default;e.on("error",console.error),e.on("message",(e=>{try{const r=(0,a.default)(e);console.log("Response",r,t),t.implementMessage(r)}catch(e){console.log("error")}})),e.on("open",(e=>{console.log("Open",e)})),e.on("close",(e=>{console.log("Close",e)}))}))},352:e=>{e.exports=require("ws")},147:e=>{e.exports=require("fs")},685:e=>{e.exports=require("http")},17:e=>{e.exports=require("path")}},t={};function r(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,r),n.exports}(()=>{const e=r(993);r(691),console.log("Start static http server on the 8181 port!"),e.httpServer.listen(8181)})()})();